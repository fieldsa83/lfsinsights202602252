% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/math_and_helper_functions.R
\name{calculate_bootstrap_variance}
\alias{calculate_bootstrap_variance}
\title{Calculate bootstrap variance}
\usage{
calculate_bootstrap_variance(
  data,
  est_type,
  weight_var,
  is_change = FALSE,
  is_diff = FALSE
)
}
\arguments{
\item{data}{Data frame containing estimate and bootstrap weights}

\item{est_type}{Type of estimate ("ratio" or "sum")}

\item{weight_var}{The base weight variable name (e.g., "FINALWT")}

\item{is_change}{Whether calculating for change values (adds Significance flags)}

\item{is_diff}{Whether calculating for difference values (adds Significance flags)}
}
\value{
Data frame with bootstrap statistics added and raw bootstrap columns removed
}
\description{
Calculates variance, CVs, and confidence intervals using bootstrap weights.
Automatically determines the correct columns to use based on estimate type.
Uses unrounded columns for calculation if they exist (suffix "_unrounded") for maximum precision.
}
